# Gardenia


## 概要（Overview）
Gardeniaは、庭好きが集まるwebサイトです。


## 詳細（Description）
Gardeniaは、自身で手入れした庭を投稿したり、困ったことがあれば相談することができます。また、検索機能を使い、庭がある場所、使用している庭木等で投稿を絞り込むことで、好みの庭を探し出すこともできます。
加えて、投稿した庭を公開（オープンガーデン）することで、どんな庭を作っているかを直接見学してもらい、交流することも可能です。逆に気になった庭があれば、見学の予約をお願いすることもできます。

## 技術的なポイント
・新規投稿時、Vision APIを使ったタグのおすすめ機能

・庭園の公開時、日程をfullcalendarを使ったカレンダーから選択する機能（庭園の予約は、予め選択された日時からのみ可能）

・庭園の公開時、場所がGooglemapAPIにプロットされる機能 

・予約の確定時、マイページのカレンダーに予定として追加される機能 

・４パターンに分けたAction Mailer（予約リクエスト、予約承認、予約変更、予約キャンセル） 

## デモ
1.VisionAPIを使ったタグのおすすめ機能 
![タグのおすすめ](https://github.com/Daichi0502/Gardenia-PF-/blob/media/VisionAI.gif) 

2.新規投稿とfullcalendarを使った庭の公開 
![投稿と公開](https://github.com/Daichi0502/Gardenia-PF-/blob/media/post.gif) 

3.fullcalendarを使った予約 

![予約](https://github.com/Daichi0502/Gardenia-PF-/blob/media/reservation.gif) 

4.予約の承認 

![承認](https://github.com/Daichi0502/Gardenia-PF-/blob/media/confirm.gif) 

## 使い方（Usage）
https://open-gardenia.com/

会員登録前は、検索機能の使用と投稿詳細の閲覧が可能です。
会員登録はヘッダーの新規登録から行ってください。


トップページでは、フォローしているユーザの投稿と人気の投稿を確認できます。
下部のGoogleMapでは、現在公開されている庭の位置がマッピングされています。
検索はヘッダーの検索ボックスから可能です。
検索ワードは、投稿内容である、庭の場所、使っている庭木、タグ、問題点、解決方法のいずれかにヒットします。ヒットした投稿内容を持つ庭が、新規投稿順で検索結果に表示されます。
また、左のサイドメニューにはよく使われるタグが表示されており、こちらを押すことでも検索が可能です。


表示されている画像を押すことで、投稿の詳細に遷移することができます。
投稿の詳細では、投稿に対するコメントをしたり、いいねを押すことができます。


新規投稿は、ヘッダーメニューからページ遷移できます。
庭の画像や投稿内容を記述し、投稿が可能です。投稿の詳細から、投稿内容の変更と庭の公開を行います。
庭の公開するためには、更に追加で公開日や住所等の情報を入力します。
こちらで入力した住所が、自動でGooglemap上にマーカーされます。


庭を見学するためには、投稿が公開中であることが必要です。
他のユーザは、投稿の詳細から公開しているか、していないかを確認し、公開中だった場合、予約画面へ進むことができます。
指定された公開日の中から、日付を選び、投稿者に予約リクエスト送付します。（リクエスト完了メールが送付されます）

投稿者は予約リクエストがあると、リクエスト受信メールとサイト内の通知でお知らせされます。
ヘッダーのベルのアイコンを押すと、通知一覧が表示され、予約リクエストの承認画面へ進みます。
予約リクエストの内容を確認し、確定する場合は承認ボタンを、キャンセルする場合は、キャンセルボタンを押します。
承認時は、投稿者と予約者に予約確定のメールが送付され、予約者には通知でお知らせもされます。
（キャンセル時は、キャンセル理由を入力し、予約者へメールと通知でお知らせされます）


ユーザは、マイページから、予約した一覧と予約を受けた一覧を確認することができます。
また、マイページ上にはカレンダーが設置されており、予約が確定した日時が自動で入るようになっています。


## Dependency
ruby 2.5.5 rails 5.2.3

